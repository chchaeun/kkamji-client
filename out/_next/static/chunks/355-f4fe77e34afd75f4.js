"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[355],{9355:function(e,n,i){i.d(n,{Z:function(){return re}});var t=i(3974),o=i(9953),r=i(2309),c=i(8647),s=i(2471),d=i(1874);var a=function(e){var n=e.quizId,i=(0,c.Fb)({quizId:n}).data;return(0,d.jsxs)(l,{children:[(0,d.jsx)(p,{children:"\ubb38\uc81c"}),(0,d.jsxs)(u,{children:[(null===i||void 0===i?void 0:i.quizContent)&&(0,d.jsx)(s.Z,{contents:i.quizContent}),(0,d.jsx)("br",{}),null===i||void 0===i?void 0:i.quizFiles.map((function(e){return(0,d.jsx)("img",{src:e.qfPath,width:720},e.id)}))]})]})},l=r.ZP.div.withConfig({displayName:"QuizContentBlock__Container",componentId:"sc-k0yr09-0"})(["display:flex;flex-direction:column;gap:12px;"]),p=r.ZP.h2.withConfig({displayName:"QuizContentBlock__Title",componentId:"sc-k0yr09-1"})(["font-weight:700;font-size:16px;line-height:19px;color:#111827;"]),u=r.ZP.p.withConfig({displayName:"QuizContentBlock__ContentBox",componentId:"sc-k0yr09-2"})(["display:block;font-weight:400;font-size:14px;line-height:24px;color:#111827;"]),f=i(1335),x=i(1193),h=i(4265),b=i(4048),g=i(8306),y=i.n(g),w=i(6119),m=i(7873),v=i(4609),j=function(){var e=(0,b.Z)(y().mark((function e(n){var i,t;return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=n.quizId,t=n.answer,e.next=3,v._.post("/quizzes/".concat(i,"/solve"),{answer:t},{headers:(0,w.h)((0,m.r)())});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),z=function(){var e=(0,b.Z)(y().mark((function e(n){var i,t;return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=n.quizId,t=n.scoreBody,e.next=3,v.V.post("/quizzes/".concat(i,"/grade"),t,{headers:(0,w.h)((0,m.r)())});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),C=i(7511),_=function(e){var n=e.quizId;return"/quizzes/".concat(n,"/solve")};function O(e,n){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),i.push.apply(i,t)}return i}function k(e){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?O(Object(i),!0).forEach((function(n){(0,f.Z)(e,n,i[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):O(Object(i)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(i,n))}))}return e}function I(e){var n=e.quizId;return(0,x.useQuery)([_({quizId:n})],(function(){return(0,C.r)({url:_({quizId:n}),apiVersion:2})}),{enabled:!!n,select:function(e){return k(k({},e),{},{quiz:k(k({},e.quiz),{},{rubric:JSON.parse(e.quiz.rubric).map((function(e){return k(k({},e),{},{score:Number(e.score)})}))})})}})}function P(e,n){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),i.push.apply(i,t)}return i}function q(e){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?P(Object(i),!0).forEach((function(n){(0,f.Z)(e,n,i[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):P(Object(i)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(i,n))}))}return e}var Z=function(e){var n,i=e.quizId,t=(0,o.useState)(!1),r=t[0],c=t[1],s=(0,h.cI)(),a=s.register,l=s.handleSubmit,p=s.formState.errors,u=s.watch,f=s.reset,b=u("solve"),g=I({quizId:i}),y=g.data,w=g.error,m=(0,x.useMutation)((function(e){return j({quizId:i,answer:e})}),{mutationKey:["quizIsSolved",i],onSuccess:function(){window.location.reload()},onError:function(e){}}).mutate;return(0,d.jsxs)(N,{children:[(0,d.jsx)(Q,{children:"\ub0b4 \uc815\ub2f5"}),403===(null===w||void 0===w||null===(n=w.response)||void 0===n?void 0:n.status)&&(0,d.jsxs)(S,{onSubmit:l((function(e){var n=e.solve;m(n),c(!1)})),children:[(0,d.jsx)(D,q({placeholder:"\uc815\ub2f5\uc744 \uc785\ub825\ud558\uc138\uc694.",rows:3,onFocus:function(){c(!0)}},a("solve",{required:!0}))),p.solve&&"required"===p.solve.type&&(0,d.jsx)("em",{children:"\ub2f5\uc740 \ud544\uc218 \uc785\ub825\uac12\uc785\ub2c8\ub2e4."}),r&&(0,d.jsxs)(E,{children:[(0,d.jsx)("button",{type:"button",onClick:function(){if(b){if(!confirm("\uc791\uc131\ud55c \ub0b4\uc6a9\uc774 \uc0ac\ub77c\uc9d1\ub2c8\ub2e4. \ucde8\uc18c\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?"))return;f()}else f();c(!1)},children:"\ucde8\uc18c"}),(0,d.jsx)("button",{type:"submit",children:"\ub4f1\ub85d"})]})]}),y&&(0,d.jsx)(B,{children:y.solve.answer})]})},N=r.ZP.div.withConfig({displayName:"QuizSolveBlock__Container",componentId:"sc-7fbplv-0"})(["display:flex;flex-direction:column;gap:12px;width:100%;"]),Q=r.ZP.h2.withConfig({displayName:"QuizSolveBlock__Title",componentId:"sc-7fbplv-1"})(["font-weight:700;font-size:16px;line-height:19px;color:#111827;"]),B=r.ZP.div.withConfig({displayName:"QuizSolveBlock__ContentBox",componentId:"sc-7fbplv-2"})(["box-sizing:border-box;display:flex;align-items:flex-start;padding:16px;width:100%;background:#ffffff;border:1px solid #e5e7eb;border-radius:8px;font-weight:400;font-size:14px;line-height:21px;"]),S=r.ZP.form.withConfig({displayName:"QuizSolveBlock__Form",componentId:"sc-7fbplv-3"})(["display:flex;flex-direction:column;gap:8px;"]),D=r.ZP.textarea.withConfig({displayName:"QuizSolveBlock__InputBox",componentId:"sc-7fbplv-4"})(["box-sizing:border-box;display:flex;align-items:flex-start;padding:16px;width:100%;background:#ffffff;border:1px solid #e5e7eb;border-radius:8px;font-weight:400;font-size:14px;line-height:21px;resize:none;&:focus{outline:none !important;border:1px solid #6366f1;}"]),E=r.ZP.div.withConfig({displayName:"QuizSolveBlock__Buttons",componentId:"sc-7fbplv-5"})(["display:flex;justify-content:flex-end;gap:4px;width:100%;button{display:flex;flex-direction:row;justify-content:center;align-items:center;padding:10px 24px;gap:6px;width:72px;height:36px;border-radius:8px;font-weight:500;font-size:12px;line-height:16px;&:first-child{background:#ffffff;&:hover{background:#f9fafb;}}&:last-child{background:#4f46e5;color:#ffffff;&:hover{background:#4338ca;}}}"]),R=i(1013),F=i(1670);function A(e,n){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),i.push.apply(i,t)}return i}var T=function(e){var n=e.quizId,i=new x.QueryClient,t=(0,o.useState)(),r=t[0],c=t[1],s=(0,o.useState)(!1),a=s[0],l=s[1],p=(0,o.useState)(),u=p[0],h=p[1],b=I({quizId:n}),g=b.data,y=(b.error,(0,x.useMutation)((function(e){return z({quizId:n,scoreBody:e})}),{onSuccess:function(){i.invalidateQueries(["quizDetail",n]),window.location.reload()},onError:function(e){}}).mutate),w=function(e){var n=e.target.value,i=function(e){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?A(Object(i),!0).forEach((function(n){(0,f.Z)(e,n,i[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):A(Object(i)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(i,n))}))}return e}({},JSON.parse(n));i.score=Number(i.score),h(e.target),c(i),l(!0)};return(0,d.jsx)(J,{children:null!==(null===g||void 0===g?void 0:g.solve.score)?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(H,{children:"\ucc44\uc810 \uacb0\uacfc"}),(0,d.jsx)(U,{children:(0,d.jsxs)("span",{children:[null===g||void 0===g?void 0:g.solve.rubric," ",(0,d.jsx)("span",{"aria-hidden":!0,children:"\xb7"})," ",null===g||void 0===g?void 0:g.solve.score," \uc810"]})})]}):(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(H,{children:"\ucc44\uc810\ud558\uae30"}),null===g||void 0===g?void 0:g.quiz.rubric.map((function(e,n){return(0,d.jsxs)(L,{htmlFor:"bordered-radio-".concat(n),children:[(0,d.jsxs)(M,{children:[(0,d.jsx)("input",{id:"bordered-radio-".concat(n),type:"radio",value:JSON.stringify({score:e.score,solveRubric:e.content}),name:"bordered-radio",onChange:w}),(0,d.jsx)(V,{children:e.content})]}),(0,d.jsxs)(K,{children:[e.score,"\uc810"]})]},n)})),a&&(0,d.jsxs)(G,{children:[(0,d.jsx)("button",{type:"button",onClick:function(){u&&(u.checked=!1,h(null)),c(null),l(!1)},children:"\ucde8\uc18c"}),(0,d.jsx)("button",{type:"button",onClick:function(){r&&y(r)},children:"\ub4f1\ub85d"})]})]})})},J=r.ZP.div.withConfig({displayName:"QuizRubric__Container",componentId:"sc-sb7c66-0"})(["display:flex;flex-direction:column;gap:10px;width:100%;"]),H=r.ZP.h2.withConfig({displayName:"QuizRubric__Title",componentId:"sc-sb7c66-1"})(["font-weight:700;font-size:16px;line-height:19px;color:#111827;"]),L=r.ZP.label.withConfig({displayName:"QuizRubric__Label",componentId:"sc-sb7c66-2"})(["box-sizing:border-box;display:flex;justify-content:space-between;padding:16px;gap:10px;width:100%;border:1px solid #e5e7eb;border-radius:8px;cursor:pointer;&:has(input:checked){border:1px solid #6366f1;}"]),M=r.ZP.div.withConfig({displayName:"QuizRubric__RowDiv",componentId:"sc-sb7c66-3"})(['display:flex;flex-direction:row;gap:12px;align-items:center;input[type="radio"]{width:18px;height:18px;border-radius:100%;background-color:#e5e7eb;-webkit-appearance:none;-moz-appearance:none;}input[type="radio"]:checked{width:18px;height:18px;border-radius:100%;background-color:#ffffff;border:5px solid #6366f1;}']),V=r.ZP.span.withConfig({displayName:"QuizRubric__ContentText",componentId:"sc-sb7c66-4"})(["font-weight:500;font-size:14px;line-height:17px;color:#000000;"]),K=r.ZP.span.withConfig({displayName:"QuizRubric__AccentText",componentId:"sc-sb7c66-5"})(["font-weight:700;font-size:14px;color:#4f46e5;"]),G=r.ZP.div.withConfig({displayName:"QuizRubric__Buttons",componentId:"sc-sb7c66-6"})(["display:flex;justify-content:flex-end;gap:4px;width:100%;button{display:flex;flex-direction:row;justify-content:center;align-items:center;padding:10px 24px;gap:6px;width:72px;height:36px;border-radius:8px;font-weight:500;font-size:12px;line-height:16px;&:first-child{background:#ffffff;&:hover{background:#f9fafb;}}&:last-child{background:#4f46e5;color:#ffffff;&:hover{background:#4338ca;}}}"]),U=r.ZP.div.withConfig({displayName:"QuizRubric__BlueBox",componentId:"sc-sb7c66-7"})(["display:flex;flex-direction:row;padding:16px;gap:8px;width:100%;background:#eef2ff;border-radius:8px;"]);var W,X=function(e){var n=e.quizId,i=(0,F.useRouter)(),t=I({quizId:n}),r=t.data,c=(t.error,(0,o.useState)(!1)),a=c[0],l=c[1];return(0,o.useEffect)((function(){l(!1)}),[i]),(0,d.jsxs)(Y,{children:[!a&&(0,d.jsx)(ee,{children:"\uc815\ub2f5 \ud655\uc778"}),r&&a&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)($,{children:[(0,d.jsx)(ee,{children:"\uc815\ub2f5 \ud655\uc778"}),(0,d.jsx)(ne,{children:(0,d.jsx)(s.Z,{contents:r.quiz.answer})})]}),(0,d.jsxs)($,{children:[(0,d.jsx)(ee,{children:"\ud574\uc124"}),(0,d.jsx)(ne,{children:(0,d.jsx)(s.Z,{contents:r.quiz.explanation})})]}),(0,d.jsx)(T,{quizId:n})]}),(0,d.jsx)(ie,{type:"button",onClick:function(){r?l((function(e){return!e})):alert("\uc815\ub2f5\uc744 \uc81c\ucd9c\ud574\uc57c \uc5f4\ub78c\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4.")},children:a?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("span",{children:"\ub2eb\uae30"}),(0,d.jsx)(R.JO,{icon:"zondicons:cheveron-up"})]}):(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("span",{children:"\uc815\ub2f5 \ubcf4\uae30"}),(0,d.jsx)(R.JO,{icon:"zondicons:cheveron-down"})]})})]})},Y=r.ZP.div.withConfig({displayName:"QuizAnswerBlock__Container",componentId:"sc-1yypqfi-0"})(["display:flex;flex-direction:column;gap:32px;width:100%;"]),$=r.ZP.div.withConfig({displayName:"QuizAnswerBlock__Block",componentId:"sc-1yypqfi-1"})(["display:flex;flex-direction:column;gap:12px;"]),ee=r.ZP.h2.withConfig({displayName:"QuizAnswerBlock__Title",componentId:"sc-1yypqfi-2"})(["font-weight:700;font-size:16px;line-height:19px;color:#111827;"]),ne=r.ZP.div.withConfig({displayName:"QuizAnswerBlock__ContentBox",componentId:"sc-1yypqfi-3"})(["box-sizing:border-box;display:flex;flex-direction:row;align-items:flex-start;padding:16px;gap:10px;width:100%;background:#ffffff;border:1px solid #e5e7eb;border-radius:8px;"]),ie=r.ZP.button.withConfig({displayName:"QuizAnswerBlock__LongButton",componentId:"sc-1yypqfi-4"})(["display:flex;flex-direction:row;justify-content:center;align-items:center;padding:10px 24px;gap:6px;width:100%;background:#f3f4f6;border-radius:8px;font-weight:600;font-size:12px;line-height:16px;color:#4b5563;&:hover{background:#e5e7eb;}"]),te=i(5448),oe=i(719);var re=function(e){var n=e.challengeId,i=e.quizId;return(0,d.jsxs)(ce,{children:[(0,d.jsx)(se,{children:(0,d.jsx)(te.Z,{challengeId:n,quizId:i})}),(0,d.jsx)(de,{}),(0,d.jsx)(a,{quizId:i}),(0,d.jsx)(Z,{quizId:i}),(0,d.jsx)(ae,{}),(0,d.jsx)(X,{quizId:i})]})},ce=r.ZP.div.withConfig({displayName:"QuizContentContainer__Container",componentId:"sc-pcarl9-0"})(["display:flex;flex-direction:column;align-items:flex-start;padding:24px 36px;gap:32px;width:100%;background:#ffffff;border:1px solid #f3f4f6;border-radius:8px;",""],oe.B.medium(W||(W=(0,t.Z)(["\n    padding: 24px 16px;\n  "])))),se=r.ZP.div.withConfig({displayName:"QuizContentContainer__ColDiv",componentId:"sc-pcarl9-1"})(["display:flex;flex-direction:column;gap:16px;width:100%;"]),de=r.ZP.hr.withConfig({displayName:"QuizContentContainer__Horizontal",componentId:"sc-pcarl9-2"})(["width:100%;height:0px;border:0.5px solid #e5e7eb;"]),ae=(0,r.ZP)(de).withConfig({displayName:"QuizContentContainer__DashedHorizontal",componentId:"sc-pcarl9-3"})(["border:0.5px dashed #e5e7eb;"])}}]);